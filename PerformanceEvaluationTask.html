<!doctype html>
<html>
    <head>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cuprum&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="https://unpkg.com/xlsx@0.15.1/dist/xlsx.full.min.js"></script>
    <meta charset="utf-8" />
<script src="canvas2image.js"></script>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Performance Evaluation Task</title>

    <script type="text/javascript" src="https://static.sketchfab.com/api/sketchfab-viewer-1.10.4.js"></script>
<style>
    canvas {
        background-color: white;
        background-image: url("PerformanceEvaluationTask.png");
        background-repeat: no-repeat;
        background-size: 100%;        
    }
    body{
        background-color: white;
        background-image: none;
    }
</style>
</head>

<body>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.0/jquery.min.js"></script>
<script language="javascript" type="text/javascript">
function checker(that) {
if (that.checked) {
toggle.style.display = "";
} else {
toggle.style.display = "none";
}
}
function checker2(that) {
if (that.checked) {
toggle2.style.display = "";
} else {
toggle2.style.display = "none";
}
}
</script>
    
    <div>
      <br> <p style="padding-left: 8vw; color: coral;font-size: 1.5em;"><b>Enter Participant Code: </b><input type="text" id="code" placeholder="" /></p>
    </div>
    
    <div width="100%" style="min-height: 350px;">
    <div style="width: 1500px; margin: auto;">
        <h1>Performance Evaluation Task</h1>
        <h3>Project Title: Improving understanding of connecting 2D and 3D using digital prototyping and virtual reality</h3>
             
    
        <p style="float: right;padding-right: 200px;"> Please draw the pattern changes that you think would correct the garment fit</p>
        <div style="margin-left: 0px; padding-left:0%;  height: 400px;" class="sketchfab-embed-wrapper"><center> 
                <iframe style="float:left; height:90vh; width: 600px;margin-bottom: 50px;" title="back neck tight 2" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/efd0f28b4da5420ca43df66627d9b976/embed"> </iframe> 
    <div class="canvas1">
    <canvas width="800" height="770" id="cvs" ></canvas>

        </div>
         
            <center><span id="toggle"><input class="quizSubmit" id="submitButton" type="submit" value="Save as PDF" onclick="window.print()" id="submit_prog"></span></center>
                
<script>
    var canvas, ctx, bMouseIsDown = false, iLastX, iLastY,
        $save, $imgs,
        $convert, $imgW, $imgH,
        $sel;
    
    function init () {
        canvas = document.getElementById('cvs');
        ctx = canvas.getContext('2d');
        $save = document.getElementById('save');
        $convert = document.getElementById('convert');
        $sel = document.getElementById('sel');
        $imgs = document.getElementById('imgs');
        $imgW = document.getElementById('imgW');
        $imgH = document.getElementById('imgH');
        $imgFileName =document.getElementById('imgFileName');
        bind();
        draw();
    }
    
 
    
    function bind () {
        canvas.onmousedown = function(e) {
            bMouseIsDown = true;
            iLastX = e.clientX - canvas.offsetLeft + (window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft);
            iLastY = e.clientY - canvas.offsetTop + (window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop);
        }
        canvas.onmouseup = function() {
            bMouseIsDown = false;
            iLastX = -1;
            iLastY = -1;
        }
        canvas.onmousemove = function(e) {
            if (bMouseIsDown) {
                var iX = e.clientX - canvas.offsetLeft + (window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft);
                var iY = e.clientY - canvas.offsetTop + (window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop);
                ctx.moveTo(iLastX, iLastY);
                ctx.lineTo(iX, iY);
                ctx.stroke();
                iLastX = iX;
                iLastY = iY;
            }
        };
        
        $save.onclick = function (e) {
            var type = $sel.value,
                w = $imgW.value,
                h = $imgH.value;
                f = $imgFileName.value;
            Canvas2Image.saveAsImage(canvas, w, h, type,f);
        }
        $convert.onclick = function (e) {
            var type = $sel.value,
                w = $imgW.value,
                h = $imgH.value;
            $imgs.appendChild(Canvas2Image.convertToImage(canvas, w, h, type))
        }
        
    }
     $('.canvas-clear').on('click', function(e) {
    c_width = $canvas.width();
    c_height = $canvas.height();
    ctx.clearRect(0, 0, c_width, c_height);
    $('#canvasimg').hide();
  });
    
    onload = init;
</script>
</body>
</html>